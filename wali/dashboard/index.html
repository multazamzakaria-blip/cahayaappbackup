<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Wali - CAHAYA APP</title>
  <style>
    :root {
      --green1: #0f766e;
      --green2: #064e3b;
      --text-light: #f8fafc;
      --shadow: 0 8px 20px rgba(0,0,0,0.25);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Poppins', sans-serif; }
    body {
      min-height: 100vh;
      background: linear-gradient(135deg, var(--green1), var(--green2));
      color: var(--text-light);
      display: flex; flex-direction: column; align-items: center;
      overflow-x: hidden;
    }

    .splash {
      position: fixed; inset: 0;
      background: radial-gradient(circle at center, #0f766e, #022c22 90%);
      display: flex; align-items: center; justify-content: center;
      z-index: 999; animation: fadeOut 1.2s ease-out 1.5s forwards;
    }
    .splash .logo { width: 130px; animation: zoomIn 1.2s ease-in-out; }
    @keyframes zoomIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    @keyframes fadeOut { to { opacity: 0; visibility: hidden; } }

    header {
      width: 100%; max-width: 1100px;
      display: flex; justify-content: space-between; align-items: center;
      padding: 20px 20px 10px;
    }
    header h1 { font-size: 1.2rem; font-weight: 600; }
    #logoutBtn {
      background: linear-gradient(135deg, #dc2626, #b91c1c);
      color: white; border: none; border-radius: 8px;
      padding: 8px 14px; font-weight: 600; cursor: pointer;
      box-shadow: var(--shadow); transition: 0.2s;
    }
    #logoutBtn:hover { transform: translateY(-1px); opacity: 0.9; }

    main {
      width: 100%; max-width: 900px;
      display: flex; flex-direction: column; align-items: center;
      padding: 10px 20px 40px;
    }
    .intro-box { text-align: center; margin-top: 20px; margin-bottom: 25px; }
    .intro-box h2 { font-size: 1.3rem; font-weight: 700; margin-bottom: 6px; }

    .info-box {
      background: rgba(15, 23, 42, 0.4);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 14px;
      padding: 20px 24px;
      text-align: center;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      margin-bottom: 24px;
    }
    .info-box h2 { color: #fcd34d; margin-bottom: 6px; }

    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 18px;
      width: 100%;
      justify-items: center;
    }

    .menu-card {
      width: 100%;
      border-radius: 16px;
      padding: 26px 20px;
      text-align: center;
      text-decoration: none;
      color: var(--text-light);
      box-shadow: var(--shadow);
      transition: 0.25s ease;
      backdrop-filter: blur(10px);
    }
    .menu-card:hover { transform: translateY(-4px); box-shadow: 0 10px 25px rgba(16,185,129,0.4); }
    .menu-card h3 { font-size: 1.2rem; margin-bottom: 8px; }
    .menu-card p { font-size: 0.9rem; opacity: 0.85; }
    .harian { background: linear-gradient(145deg, rgba(16,185,129,0.3), rgba(22,163,74,0.4)); border: 1px solid rgba(16,185,129,0.4); }
    .bulanan { background: linear-gradient(145deg, rgba(37,99,235,0.3), rgba(29,78,216,0.4)); border: 1px solid rgba(37,99,235,0.4); }
    .chat { background: linear-gradient(145deg, rgba(245,158,11,0.25), rgba(234,179,8,0.35)); border: 1px solid rgba(250,204,21,0.4); }

    /* MODAL */
    .modal {
      position: fixed; inset: 0;
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(4px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .modal-content {
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 16px;
      padding: 25px;
      width: 90%;
      max-width: 400px;
      color: #ecfdf5;
      box-shadow: var(--shadow);
      animation: slideUp 0.35s ease;
    }
    @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .modal-header h4 { font-size: 1.1rem; font-weight: 600; color: #bbf7d0; }
    .close-btn {
      background: none; border: none; color: #fcd34d;
      font-size: 1.2rem; cursor: pointer;
    }
    .contact-list { display: flex; flex-direction: column; gap: 10px; }
    .wa-btn {
      display: flex; justify-content: space-between; align-items: center;
      text-decoration: none; color: #ecfdf5;
      background: rgba(16,185,129,0.25);
      padding: 8px 12px;
      border-radius: 10px;
      border: 1px solid rgba(16,185,129,0.4);
      transition: 0.2s; font-size: 0.9rem;
    }
    .wa-btn:hover { background: rgba(16,185,129,0.45); }

    footer { text-align: center; font-size: 0.8rem; padding: 15px 10px; opacity: 0.8; }
  </style>
</head>
<body>
  <div class="splash"><img src="../../logofi.png" alt="Logo Pesantren" class="logo"></div>

  <header>
    <h1>üìä Dashboard Wali Santri</h1>
    <button id="logoutBtn">Keluar</button>
  </header>

  <main>
    <div class="intro-box">
      <h2>üåû Selamat Datang di <b>Cahaya App</b></h2>
      <p>üïå Pesantren Cahaya Fajrul Islam</p>
    </div>

    <section class="info-box">
      <h2 id="salamWali">Assalamu‚Äôalaikum Walisantri</h2>
      <p>Semoga selalu dalam lindungan Allah. Berikut fitur utama untuk memantau perkembangan dan komunikasi.</p>
    </section>

    <section class="menu-grid">
      <a href="../progres-harian/" class="menu-card harian">
        <h3>üìÖ Progres Harian</h3>
        <p>Lihat aktivitas dan absensi harian santri.</p>
      </a>
      <a href="../progres-bulanan/" class="menu-card bulanan">
        <h3>üìä Progres Bulanan</h3>
        <p>Analisis perkembangan karakter dan prestasi tiap bulan.</p>
      </a>
      <div class="menu-card chat" id="openChat">
        <h3>üí¨ Chat Pengurus</h3>
        <p>Hubungi Naqib, Supervisor, atau Call Center.</p>
      </div>
    </section>

    <!-- MODAL CHAT -->
    <div id="modalChat" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h4>Chat Pengurus</h4>
          <button class="close-btn">&times;</button>
        </div>
        <div class="contact-list">
          <h5>üßë‚Äçüè´ Naqib / Naqibah</h5>
          <a href="https://wa.me/6287838723032" class="wa-btn" target="_blank"><span>Fatimah</span><span>WA</span></a>
          <a href="https://wa.me/6287785171967" class="wa-btn" target="_blank"><span>Evita</span><span>WA</span></a>
          <a href="https://wa.me/6281943294096" class="wa-btn" target="_blank"><span>Dimas</span><span>WA</span></a>
          <a href="https://wa.me/6283872135645" class="wa-btn" target="_blank"><span>Regen</span><span>WA</span></a>
          <a href="https://wa.me/6287893123488" class="wa-btn" target="_blank"><span>Favian</span><span>WA</span></a>
          <a href="https://wa.me/6287755120842" class="wa-btn" target="_blank"><span>Kamal</span><span>WA</span></a>
          <a href="https://wa.me/6281915565741" class="wa-btn" target="_blank"><span>Shafwan</span><span>WA</span></a>

          <h5 style="margin-top:10px;">üßï Supervisor</h5>
          <a href="https://wa.me/6281929623700" class="wa-btn" target="_blank"><span>Umi Dini (Putri)</span><span>WA</span></a>
          <a href="https://wa.me/6287797340185" class="wa-btn" target="_blank"><span>Pak Doni (Putra)</span><span>WA</span></a>

          <h5 style="margin-top:10px;">‚òéÔ∏è Call Center</h5>
          <a href="https://wa.me/6281818189322" class="wa-btn" target="_blank"><span>Call Center WA</span><span>Chat</span></a>
          <a href="tel:+6281818189322" class="wa-btn"><span>Telepon Langsung</span><span>Call</span></a>
        </div>
      </div>
    </div>
  </main>

  <footer>
    ¬© 2025 Pesantren Fajrul Islam ‚Äî CAHAYA APP
  </footer>

  <script type="module">
    const user = JSON.parse(localStorage.getItem("cahayaCurrentUser") || "null");
    const salam = document.getElementById("salamWali");
    const logoutBtn = document.getElementById("logoutBtn");
    if (!user || user.role !== "wali") window.location.href = "../index.html";
    else salam.innerHTML = `Assalamu‚Äôalaikum Walisantri <b>${user.namaAnak || "Santri Anda"}</b>`;

    logoutBtn.addEventListener("click", () => {
      localStorage.removeItem("cahayaCurrentUser");
      window.location.href = "https://multazamzakaria-blip.github.io/cahayaapp/";
    });

    const modal = document.getElementById("modalChat");
    document.getElementById("openChat").addEventListener("click", () => modal.style.display = "flex");
    document.querySelector(".close-btn").addEventListener("click", () => modal.style.display = "none");
    window.addEventListener("click", (e) => { if (e.target === modal) modal.style.display = "none"; });
  </script>
</body>
</html>
